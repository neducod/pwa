<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PWA | API</title>
    <link rel="shortcut icon" href="./image/J.png" type="image/x-icon">

    <link rel="stylesheet" href="./dashboard.css">

    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>

      <!-- Leaflet CSS -->
      <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    />
</head>
<body>
    <header class="flex justify-center gap-50 pt-7 pb-5">
        <div class="flex gap-2">
            <h1 class="text-center">PWA/API</h1>
        </div>
        <div id="list">
            <li><a href="#">Docs</a></li>
            <li><a href="#">Modules</a></li>
            <li><a href="#">Showcase</a></li>
            <li><a href="#">Support</a></li>
        </div>
        <div class="flex gap-10">
            <a href="./login.html">Sign Up</a>
            <a href="./alogin.html">Login</a>
        </div>
    </header>


    <div class="frame-101"> 
        <div id="map"></div>
        <aside>
            <h2 class="text-lg font-semibold mb-3">üìç Location Info</h2>
            <p><strong>Location:</strong> Surulere, Lagos</p>
            <p><strong>Weather:</strong> 28¬∞C, Sunny ‚òÄÔ∏è</p>
            <p><strong>News:</strong> "Governor commissions new road"</p>
            <p><strong>Exchange Rate:</strong> 1 USD = 1532 NGN</p>
        </aside>
    </div>






    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script type="module" src="./js/db.js"></script>
    <script>
/*
const map = L.map("map").setView([9.082, 8.6753], 6);

// Add tile layeer
 L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", {
         maxZoom: 18,
    attribution:
   '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',
 }).addTo(map);


  // Get user location
  map.locate({ setView: true, maxZoom: 18 });

  map.on("locationfound", function (e) {
    L.marker(e.latlng)
      .addTo(map)
      .bindPopup("You're here üëã")
      .openPopup();
 });
*/

















//  const map = L.map("map").setView([9.082, 8.6753], 6);

// // Add tile layer
// L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png", {
//   maxZoom: 18,
//   attribution:
//     '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',
// }).addTo(map);

// // Use Leaflet's built-in geolocation method
// map.locate({ setView: true, maxZoom: 13 });

// map.on("locationfound", function (e) {
//   L.marker(e.latlng)
//     .addTo(map)
//     .bindPopup("üìç You're here!")
//     .openPopup();
// });

// map.on("locationerror", function (e) {
//   console.error("Geolocation error:", e.message);
//   alert("Could not get your location: " + e.message);
// });



L.marker([6.5244, 3.3792]) // Lagos
  .addTo(map)
  .bindPopup("Test Marker in Lagos")
  .openPopup();


/*
 if (navigator.geolocation) {
  navigator.geolocation.getCurrentPosition(
    (position) => {
      const lat = position.coords.latitude;
      const lon = position.coords.longitude;

      map.setView([lat, lon], 13);

      L.marker([lat, lon])
        .addTo(map)
        .bindPopup("üìç You are here")
        .openPopup();
    },
    (error) => {
    //   console.error("Geolocation failed:", error);
      console.error("Geolocation error details:", error);
    //   alert("Unable to get your location. Please allow location access.");
      alert("Unable to get your location. Error: " + error.message);
    }
  );
} else {
  alert("Geolocation is not supported by your browser.");
}
*/

    </script>
</body>
</html>